## Only Diary
### 목차
---
* [Only Diary](#Only-Diary)
   * 소개말
   * 배포 링크
   * 특징
   * 개발 기간
* [페이지 구성](#페이지-구성)
   * 메인 페이지
     * 로그인 전 Header
     * 로그인 후 Header
     * autoplay 메인 배너
     * 공개 모드로 설정된 모든 다이어리 리스트
   * 회원가입 / 로그인 페이지
   * 다이어리 등록 페이지
     * 이미지 세션
     * 정보 세션
     * 텍스트 세션
     * 업로드 버튼
   * 마이 다이어리 페이지
     * 로그인 유저 정보
     * 게시한 다이어리가 없을 경우 UI
     * 유저가 게시한 다이어리 리스트
   * 다이어리 디테일 페이지
     * 좋아요 기능
<!-- 
* [기능](#기능)
   * 기능 소개
   * 로그인
   * 공개 / 비공개 모드 설정
   * 다이어리 등록
   * 좋아요 & 알람 기능
   * 새로고침 시 데이터 유지
   * 개선 사항 
-->

* [환경 구성](#환경-구성)
   * yarn
   * 환경변수
* [기술 스택](#기술-스택)
   * 스택
   * 사용 이유
* [개선사항](#개선사항)
   * 2021.09.09 ~ 2021.11.23
     1. 111
     2. 좋아요 기능과 알람 기능
     3. 새로고침 후 데이터 유지
     4. 앞으로의 개선 사항
### Only Diary
---
#### 소개말
<img src="https://user-images.githubusercontent.com/80934175/143998142-7b66bde1-3a59-48c5-a820-c3ed0dd5d855.png" width="250px" height="250px" alt="logo"/>

![OnlyDiary01](https://user-images.githubusercontent.com/80934175/143999330-92f265cb-1d46-4b82-892e-2de8997bf0f3.jpg)

Only Diary는 유저가 이미지와 함께 다이어리를 게시할 수 있는 웹 어플리케이션 입니다.<br />
유저는 공개 / 비공개 를 설정 할 수 있어서 모든 유저에게 공개하거나 않거나 설정할 수 있습니다.
#### 배포 링크
[Only Diary 이동](https://only-diary.web.app/)
#### 특징
- 로그인 기능 
- 공개 / 비공개 모드 설정
- 다이어리 등록
- 좋아요 & 알람 기능
- 새로고침 시 데이터 유지
- 드롭다운 메뉴
- auto 슬라이드 배너
- 반응형
#### 개발 기간
2021.09.09 ~ 2021.11.23(~ing)

<!-- 
### 기능
---
#### 기능 소개
- 로그인
- 공개 / 비공개 모드 설정
- 다이어리 등록
- 좋아요 & 알람 기능
- 새로고침 시 데이터 유지
#### 로그인
- 유효성 기능 탑재
- 회원가입/로그인 진행 시 중복 실행 불가
- 중복 이메일, 이메일 혹은 패스워드 불일치 오류 처리


회원가입/로그인은 유효성 처리를 했기 때문에 패턴과 불일치 시 input 창 밑에 안내 글을 제공하게 됩니다.<br />
submit 기능을 하면서 로딩이 길어질 경우 유저가 의도적으로 중복 실행을 피하고자 로딩 중에는 button이 disabled 됩니다.<br />
백엔드 기능을 firebase를 사용하고 있으며 auth 기능도 사용하고 있습니다. 그 중 firebase에서 제공하는 오류 코드를 받아 alert창 라이브러리를 활용 하였습니다. 
좀 더 깔끔하고 편리한 UI를 제공 하였습니다.<br />
이 외에도 직관적인 UI와 "아이디가 있다면" 혹은 "아이디가 없다면" 등으로 Route를 사용하여 유저의 UX를 고려하였습니다. 
로그인 시 header에는 유저의 간략한 정보와 함께 로그인 후에만 제공하는 메뉴들을 드롭다운 형식으로 제작하여 로그인 후의 유저가 이용할 수 있는 서비스를 명확히 제시하였습니다.<br />
문제점 역시 많습니다. 로그인 후 정보 수정(프로필 사진 수정, 비밀번호 수정 등), Google & FaceBook 등의 연동 로그인, 탈퇴 기능 등 앞으로 버전 업그레이드 하면서 개선하겠습니다!
#### 공개 / 비공개 모드 설정
- 공개 모드 시 모든 유저가 관람 가능
- 비공개 모드 시 작성자만 관람 가능


Only Diary에서 강조하고 싶은 기능 입니다. 유저가 공개 / 비공개 모드를 설정할 수 있어 공개 여부를 직접 설정할 수 있습니다.<br />
공개 모드 시 모든 유저에게 다이어리가 공개됩니다. 공개된 다이어리는 intro 페이지에 슬라이드 배너와 함께 보입니다.<br />
비공개 모드 시 작성자만 다이어리를 볼 수 있으며 작성자 외의 사람은 접근이 불가능 합니다.<br />
공개 / 비공개 모드를 설정 시 유저가 직관적으로 이해할 수 있도록 토글 버튼 UI를 활용하였습니다.
#### 다이어리 등록
- 등록 전 미리보기 기능
- 등록 중 로딩 처리
- 등록 후 공개 / 비공개 모드에 따른 경로 이동


다이어리 등록하는 페이지에서는 크게 5가지로 나뉠 수 있습니다. 
1. 이미지 등록
2. 이미지 미리보기
3. 날짜 & 공개 / 비공개 모드 설정
4. 텍스트 작성
5. 업로드 버튼
이미지 등록 세션에는 기본 제공한 4가지 이미지와 이미지 업로드 버튼으로 유저가 직접 이미지를 선택할 수 있습니다. 여기서 선택한 이미지는 이미지 미리보기 세션에서 미리보기가 가능합니다.<br />공개 / 비공개 모드 역시 토글 버튼 UI로 손쉽게 모드를 바꿀 수 있습니다.<br />
텍스트 작성 세션에는 유저가 다이어리 텍스트를 작성할 수 있습니다. 문장 줄바꿈 혹은 엔터로 세션의 높이가 유동적으로 변하는 것을 확인할 수 있고 이는 작성 후 디테일 페이지에서도 동일하게 적용됩니다.<br />
등록 중 로딩 처리를 업로드 버튼 안에 '로딩중' 이라는 글자와 함께 CSS로 구현된 로딩 에니메이션이 뜨게 됩니다. 이로써 사용자는 로딩을 인지하고 disabled을 걸었기 때문에 중복 등록이 되지 않습니다.<br />
등록이 완료되면 유저의 공개 / 비공개 모드 의 선택에 따라 인트로 페이지 혹은 마이 다이어리 페이지로 이동하게 됩니다.
#### 좋아요 & 알람 기능
- 좋아요 클릭 시 작성자에게 알람 기능
- 좋아요 취소 기능
- 유저가 좋아요 누른 다이어리에는 좋아요 데이터 유지
- 좋아요 1개 이상 시 좋아요 카운팅


좋아요 클릭 시 작성자에게 좋아요 누른 유저의 이름과 함께 좋아요 누른 후 경과된 시간이 표시됩니다.<br />
좋아요 클릭 시 좋아요 UI는 border 하트 아이콘에서 solid 하트 아이콘으로 바뀌고 작성자에게 알람이 갑니다. 만약 좋아요가 반영된 상태에서 한번 더 클릭하여 취소를 하게 된다면 아이콘은 원래대로, 작성자에게 간 알람은 없어집니다. 취소 기능을 구현 했습니다.<br />
유저가 좋아요를 누른 뒤 다른 페이지로 이동하다 좋아요를 누른 다이어리 페이지로 다시 이동 시 좋아요 누른 상태로 UI가 유지되어 있습니다.<br />
다이어리 좋아요 UI는 좋아요 갯수가 1개 이상 시 유저들이 누른 좋아요 갯수가 카운팅되어 있습니다.
#### 새로고침 시 데이터 유지
Only Diary는 유저의 로그인 정보를 리덕스 통해서 저장이 되어있습니다. 하지만 리덕스는 새로고침 시 저장된 정보가 날아갑니다.<br />
이런 현상으로 유저에게 혼란을 줄 수 있으므로 유저가 새로고침 시 파이어베이스에 onAuthStateChanged 라는 메서드를 이용하여 로그인 되어 있을 시 정보를 메서드를 통해 리덕스에 재업로드하여 해결하였습니다. 
#### 개선 사항
1.  

-->


### 환경 구성
---
#### yarn
```

git clone https://github.com/chaechae66/only_diary.git
yarn install
yarn start

```
#### 환경변수
```

/*.env 파일 추가 후*/
REACT_APP_FIREBASE_APIKEY = 파이어베이스 앱키
REACT_APP_FIREBASE_AUTHDOMAIN = 파이어베이스 도메인 주소
REACT_APP_FIREBASE_DATABASEURL = 파이어베이스 데이터베이스 주소
REACT_APP_FIREBASE_PROJECTID = 파이어베이스 프로젝트 아이디
REACT_APP_FIREBASE_STORAGEBUKET = 파이어베이스 스토리지버킷 주소
REACT_APP_FIREBASE_MESSAGINGSENDERID = 파이어베이스 MESSAGINGSENDER 아이디
REACT_APP_FIREBASE_APPID = 파이어베이스 앱 아이디
REACT_APP_FIREBASE_MEASUREMENTID = 파이어베이스 MEASUREMENT 아이디

```
### 기술 스택
---
#### 스택
1. 리액트
2. 리덕스
3. 파이어베이스
#### 사용 이유
##### 리액트
- 컴포넌트화 구조의 jsx 관리
- 큰 커뮤니티, 그에 따른 폭넓은 라이브러리 선택
- Virtual DOM을 통해 어플리케이션의 성능을 향상
##### 리덕스
- 보다 효율적인 상태관리 라이브러리
- 차후 미들웨어의 활용
##### 파이어베이스
- auth, db 등의 다양한 백엔드 서비스 제공
- 차후 Node.js를 학습해 변경 예정
<!-- ### 개선사항
---
 -->
